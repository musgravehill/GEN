window.gigyaAem=window.gigyaAem||{};window.gigyaAem.functions=window.gigyaAem.functions||{};window.gigyaAem.functions.isUserAccountActive=function(a){};
window.gigyaAem.functions.raasOnLoginCallback=function(a){window.location.href.split("?");JSON.stringify(window.gigyaAem.functions.extractLoginData(a));window.aem.showSiteLoader();jQuery.ajax("/bin/gigya/login/j_gigya_login",{data:{j_gigya_uid:a.UID,j_gigya_uid_sig:a.UIDSignature,j_gigya_sig_time:a.signatureTimestamp,j_gigya_apikey:window.__gigyaApiKey,j_gigya_conf_name:window.__gigyaConfName,j_validate:!0,do_remember:a.remember},dataType:"text",type:"POST",async:!1,global:!1,success:function(a,c,
d){a=JSON.parse(a);if(a.authenticated){c=parseQueryString(location.search.substring(1));d=c.app;var b=c.model,e=c.callback,g=c.errorCode;if("undefined"!=typeof g&&""!=g){var h=g.substr(0,g.indexOf(" "));"undefined"!=typeof aem.gigyaErrorCodes&&aem.gigyaErrorCodes.has(h)&&(digitalErrorFunction(aem.gigyaErrorCodes.get(h)),bootbox.alert(aem.gigyaErrorCodes.get(h)));window.aem.removeErrorCodeFromURL(g)}void 0!=store&&store.enabled&&store.clear();if("undefined"==typeof e||""==e)"undefined"!=typeof c.resource&&
""!=c.resource?e=c.resource:""!=document.referrer&&"legacy"==d?e=document.referrer:""!=a.redirectURL&&(e=a.redirectURL);"undefined"!=typeof d&&"crm"==d&&"undefined"!=typeof b&&"login"==b?gigyaSamlResponse(e):"undefined"!=typeof e&&""!=e?window.open(e,"_self"):"undefined"!=typeof d&&"modeln"==d&&"undefined"!=typeof b&&"login"==b?modelNSamlResponse(e):window.CQ_Analytics&&CQ_Analytics.ProfileDataMgr?(CQ_Analytics.ProfileDataMgr.loadProfile(a.userid),CQ.shared.Util.reload()):(trackLoginSuccess(),window.location.reload(!0));
trackLoginSuccess()}},error:function(){console.log("Error login in user");window.aem.hideSiteLoader();gigya.accounts.logout()}})};window.gigyaAem.functions.extractLoginData=function(a){return{}};
function parseQueryString(a){a=a.split("\x26");for(var b={},c=0;c<a.length;c++){var d=[a[c].substr(0,a[c].indexOf("\x3d")),a[c].substr(a[c].indexOf("\x3d")+1)];if("undefined"===typeof b[d[0]])b[d[0]]=decodeURIComponent(d[1]);else if("string"===typeof b[d[0]]){var f=[b[d[0]],decodeURIComponent(d[1])];b[d[0]]=f}else b[d[0]].push(decodeURIComponent(d[1]))}return b}function digitalErrorFunction(a){window.digitalErrorData={error:a}}
function trackLoginSuccess(){"undefined"!=typeof _satellite&&_satellite.track("login success")}var theCookie=" "+document.cookie,ind=theCookie.indexOf(" maxim_logout_home\x3d");-1==ind&&(ind=theCookie.indexOf(";maxim_logout_home\x3d"));
if(0<=ind){var ind1=theCookie.indexOf(";",ind+1);-1==ind1&&(ind1=theCookie.length);var maximHome=unescape(theCookie.substring(ind+19,ind1)),exdate=new Date;exdate.setDate(exdate.getDate()-1);var c_value="; expires\x3d"+exdate.toUTCString()+";domain\x3d.maximintegrated.com;path\x3d/";document.cookie="maxim_logout_home\x3d"+c_value;if(0>document.URL.indexOf(maximHome)){var url=maximHome.replace(/\|/g,"%7C");window.location.replace(url)}}var SMALL_SCREEN_WIDTH=768,login={status:!1,data:{}},ptnum="";
document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll("."+a)},Element.prototype.getElementsByClassName=document.getElementsByClassName);
function executeGTM(){var a=window,b=$(".gtm-code").data("gtm-code");a.dataLayer=a.dataLayer||[];a.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});a=document.getElementsByTagName("script")[0];var c=document.createElement("script");c.async=!0;c.src="https://www.googletagmanager.com/gtm.js?id\x3d"+b+"";a.parentNode.insertBefore(c,a)}
(function(){function a(a){c.BOOMR_onload=a&&a.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version){var b=document.createElement("iframe"),c=window;c.addEventListener?c.addEventListener("load",a,!1):c.attachEvent&&c.attachEvent("onload",a);b.src="javascript:void(0)";b.title="";b.role="presentation";(b.frameElement||b).style.cssText="width:0;height:0;border:0;display:none;";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);try{var f=b.contentWindow.document}catch(g){var e=
document.domain;b.src="javascript:var d\x3ddocument.open();d.domain\x3d'"+e+"';void(0);";f=b.contentWindow.document}f.open()._l=function(){var a=this.createElement("script");e&&(this.domain=e);a.id="boomr-if-as";a.src="//c.go-mpulse.net/boomerang/"+$(".soasta-key").data("soasta-key");BOOMR_lstart=(new Date).getTime();this.body.appendChild(a)};f.write('\x3cbody onload\x3d"document._l();"\x3e');f.close()}})();
function createDigitalDataObject(a){void 0==window.digitalDataSearch.user?window.digitalDataSearch.user={profile:{profileInfo:{}}}:void 0==window.digitalDataSearch.user.profile?window.digitalDataSearch.user.profile={profileInfo:{}}:void 0==window.digitalDataSearch.user.profile.profileInfo&&(window.digitalDataSearch.user.profile.profileInfo={});a=window.digitalDataSearch.user.profile.profileInfo;var b=window.digitalDataSearch.page.pageInfo.pageType,c=CQ_Analytics.PersonalInfoStoreMgr.getProperty("isLoggedIn");
"EMPLOYEE"==CQ_Analytics.PersonalInfoStoreMgr.getProperty("userType").toUpperCase()?a.usersource="Maxim":a.usersource="External";void 0!=b&&-1<b.indexOf("404")?(a.emailDomain="n/a",a.email="n/a",a.company="n/a",a.maximID="n/a",a.userID="n/a",a.country="USA",a.loginStatus="Anonymous"):1==c||"true"==c?(a.b2bStatus=CQ_Analytics.PersonalInfoStoreMgr.getProperty("b2bStatus"),a.b2bUnit=CQ_Analytics.PersonalInfoStoreMgr.getProperty("b2bUnit"),a.b2bUnitActive=CQ_Analytics.PersonalInfoStoreMgr.getProperty("b2bUnitActive"),
a.company=CQ_Analytics.PersonalInfoStoreMgr.getProperty("company"),a.country=CQ_Analytics.PersonalInfoStoreMgr.getProperty("country"),a.email=CQ_Analytics.PersonalInfoStoreMgr.getProperty("email"),a.emailDomain=CQ_Analytics.PersonalInfoStoreMgr.getProperty("emailDomain"),a.familyName=CQ_Analytics.PersonalInfoStoreMgr.getProperty("familyName"),a.formattedName=CQ_Analytics.PersonalInfoStoreMgr.getProperty("formattedName"),a.hybrisActiveFlag=CQ_Analytics.PersonalInfoStoreMgr.getProperty("hybrisActiveFlag"),
a.islegalagreed=CQ_Analytics.PersonalInfoStoreMgr.getProperty("islegalagreed"),a.loginStatus="LoggedIn",a.memberStatus=CQ_Analytics.PersonalInfoStoreMgr.getProperty("memberStatus"),a.path=CQ_Analytics.PersonalInfoStoreMgr.getProperty("path"),a.phone=CQ_Analytics.PersonalInfoStoreMgr.getProperty("phone"),a.policyAcceptance=CQ_Analytics.PersonalInfoStoreMgr.getProperty("policyAcceptance"),a.userType=CQ_Analytics.PersonalInfoStoreMgr.getProperty("userType"),a.maximId=CQ_Analytics.PersonalInfoStoreMgr.getProperty("memberId"),
a.mymaxOrder=CQ_Analytics.PersonalInfoStoreMgr.getProperty("mymaxOrder"),a.mymaxCategoryOrder=CQ_Analytics.PersonalInfoStoreMgr.getProperty("mymaxCategoryOrder"),a.gigyaUid=CQ_Analytics.PersonalInfoStoreMgr.getProperty("UID")):a.loginStatus="Not LoggedIn"}var countryCode,ipAddress;
$(document).ready(function(){"undefined"!=typeof $.cookie("countryCode")&&(countryCode=$.cookie("countryCode"),"CN"!=countryCode&&executeGTM());"undefined"!=typeof $.cookie("ipAddress")&&""!=typeof ipAddress&&(ipAddress=$.cookie("ipAddress"),createDigitalDataObject(ipAddress));"undefined"!=typeof countryCode&&"undefined"!=typeof ipAddress&&""!=typeof ipAddress||$.ajax({type:"post",url:"/bin/getCountryHeaderCode",async:!1,success:function(a){"undefined"==typeof countryCode&&(countryCode=a.countryHeader,
$.cookie("countryCode",countryCode),"CN"!=countryCode&&executeGTM());if("undefined"==typeof ipAddress||""==typeof ipAddress)ipAddress=a.ipAddress,$.cookie("ipAddress",ipAddress),createDigitalDataObject(ipAddress)},error:function(a){console.log(a)}})});String.prototype.hashCode=function(){var a=0;if(0==this.length)return a;for(i=0;i<this.length;i++)char=this.charCodeAt(i),a=(a<<5)-a+char,a&=a;return Math.abs(a)};
String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();if("number"!==typeof b||!isFinite(b)||Math.floor(b)!==b||b>c.length)b=c.length;b-=a.length;a=c.lastIndexOf(a,b);return-1!==a&&a===b});