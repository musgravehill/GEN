;(function($){    $.fn.rotator = function(options){    	return this.each(function(){            options = $.extend({            		slides: [            				{s:1, p:['hfbkq','nv094','e6g7r','3cqn6','6320z'],            				      t:['Конструктор "Робот-Черепаха" на Arduino. Полный комплект с шасси и Arduino UNO R3','Ленегдарная отладочная плата Arduino UNO R3 ATmega328 теперь меньше чем за 7$','Полный набор разработчика: модули и кабели для Arduino. Более 30 модулей','PICKit2 ПИК Эмулятор: ICSP+ZIF-40. Более 200 поддерживаемых МК','DC-DC модуль с охлаждением для понижения/повышения с широким выбором напряжений']            				},            				{s:2, p:['uvw3a','as7v4','ifrkn','4ukb6','fytm6'],		       					  t:['Новые фары! 8000K H7 35W Синий ксенон. Световой поток 2600lm.','Видеорегистратор с 5-мегапиксельной камерой и 1.5" TFT-дисплеем','LED фары H4 на мощных Cree-светодиодах. Долговечность и световой поток до 900lm','GPS-навигатор IPUM6026AV 7" на андроиде с детальными картами России','Автомобильная метеостанция: температура, влажность. 2.0" LCD экран, питание от LR44']            				},            				{s:3, p:['p2f45','b2myt','syemz','ygz0n','4rqp0'],            				      t:['Mini PC Google TV - MK809 IIIB четырехъядерный процессор Android 4.2 + 2GB RAM','Символьный ЖК-экран + клавиатура для вашего проекта на Arduino','Паяльная станция ProsKit SS-969H. Фен для работы с SMD-компонентами, 220V','Бинокулярные очки-лупы Magnifier. Увеличение до 18X, светодиодная подстветка','Сенсационный мощный USB-паяльник с сенсором и необгораемым жалом']            				},            				{s:4, p:['yg52k','ml4ec','qy7jc','089wj','h9fr2'],            				      t:['Мультиметр. Измерение напряжений, токов, сопротивлений, тест p-n','DS-203 Портативный 4x-канальный осциллограф с цветным 3" экраном','Цифровой USB-микроскоп. Увеличение в 500 раз! Светодиодная подстветка','Бесконтактный инфракрасный термометр. ЖК-дисплей, высокая точность измерений','Тестер электрических кабелей. Витая пара, коаксиальный кабель, телефонная линия']            				},            				{s:5, p:['0fmic','803jb','94lua','4lm2e','im924'],            				      t:['Самый маленький автомобиль в мире, работающий от солнечной энергии!','Радиоуправляемый Quadcopter со встроенным гироскопом. Частота 2.4ГГц','Танк с видеокамерой и Wi-Fi-дисплеем, управляемый с iPhone или Android-телефона','4-канальный 2,4ГГц радиоуправляемый вертолет с гиростабилизацией и ЖК','Передатчик + приемник для радиоуправляемых устройств 2,4 ГГц 6 каналов 2,9" ЖК']            				},            				{s:6, p:['2qpuh','8i6nj','lr3jm','64dh2','1ipad'],            				      t:['16х16 светодиодная матрица. LCD12864-интерфейс. 74HC138+74HC595','LM2596 - Понижающий модуль с цифровым вольтметром. Выходной ток до 3А','Регулируемая ручная электродрель для работы с набором сверел и борами','Регулируемый блок питания на LM2596S. Кнопочное управление и дисплей.','Защищенные 18650 литиевые аккумуляторы 3.7В с реальной емкостью 2400 мА']            				},            				{s:7, p:['soanj','6qv4t','gjtdf','rjwm2','3ngd0'],            				      t:['Пульт дистанционного управления + контроллер светодиодной RGB LED-ленты','RFID-RC522 модуль считывания радиометки для Arduino-разработчика','3-разрядный светодиодный цифровой вольтметр. Диапазон измерений: 4,5~30V','Зеленый лазер. Мощная лазерная указка со спецэффектами','Новый компактный набор прецизионных отверток для электроники (31 штука)']            				},            				{s:8, p:['z6pr2','udqz3','7eydf','hw3d1','5elv8'],            				      t:['Портативный цифровой одноканальный осциллограф со встроенным мультиметром','Легендарный USB-осциллограф Hantek 6022BE. Два канала по 20МГц','Многофункциональный LCF-измеритель: частота, емкость, индуктивность','Зарядное устройство для аккумуляторов. 8 аккумуляторов в комплекте','Ванночка для припоя с регулятором температуры, 200-480 градусов С']            				},							{s:9, p:['2zp0g','q1amy','li369','t0apo','asehw'],            				      t:['Третья рука для пайки. Облегчите себе работу с этим инструментом','Платы для навесного монтажа. Разрабатывайте свое устройство без пайки','Зарядное устройство для мобильного. Два USB-порта, 5 вольт','Модуль видеокамеры для Arduino. YUV/YCbCr4:2:2 RGB565/555/444','Огромный ассортимент на энергосберегающие LED-лампы. Теплый/холодный свет']            				},							{s:10,p:['ojx6p','r1pxk','en6ui','piomn','8mt5p'],            				      t:['Усилитель звуковой мощности с эквалайзером на печатной плате+компоненты','DIY LED CLOCK. Вращающиеся светодиодные часы с пультом управления','3D LED CUBE - светодиодный трехмерный куб. Набор для конструирования','Наручные светодиодные электронные часы. Миниатюрный конструктор','Мигающая ёлочка к новому году. Конструктор для начинающий и не только']            				},							{s:11,p:['bjecw','yvbs7','xu9z4','gduyw','06i4a'],            				      t:['Фантастическая поющая свечка-фейерверк за пару долларов - лучший сюрприз для ребенка!','Интелектуальный модуль с LCD для контроля и тестирования аккумуляторов','Легендарная плата Raspberry Orange Рi 2 с быстрой доставкой','Антикризисный контроль потребляемой мощности. ЖК экран с подсветкой','OLED-дисплей для ваших проектов. Теперь полноцветный RGB!']            				}            		],            		speed: 800,                    timeout: 8000,                    width: 970,                    height: 200,                    random: true,            		autorun: true,            		fx: 'fade',                    nav: false                },options);    		var $this = $(this), run = false,step = -1,    		current = 0,prev = 0,count= 0,    		slides, intervalID = 0,    		nav_left = $('<a href="javascript:void(0);" class="rotator-nav" id="rotator-left"><div></div></a>'),			nav_right = $('<a href="javascript:void(0);" class="rotator-nav" id="rotator-right"><div></div></a>'),    		preloader = $('<div class="preloader_rotator"></div>'),    		main_rotator = $('<div class="main_rotator"></div>'),    		slides_rotator = $('<ul class="slides_rotator"></ul>'),    	    rotator = {    			init: function(){    				count = options.slides.length - 1;    				rotator.preloader();    				nav_left.bind('click.rotator',function(){    					rotator.prev();    				});    				nav_right.bind('click.rotator',function(){    				    if(run) return false;    					rotator.next();    				});    			},    			preloader: function(){    		    	$this.html(preloader.append('<img src="/images/rotator/ajax-loader.gif" width="32" alt="Загрузка..." />'));    		        var images = rotator.render().find('img'),    		            loaded = 0,    	                pic = [];                    slides = slides_rotator.find('li').css({'position': 'absolute','z-index': 1});                    main_rotator.css({display: 'none'});                    slides_rotator.css({width:options.width,height:options.height});    		        if(options.fx == 'fade'){        		        slides.css('opacity',0).eq(0).css({'z-index': 2,'opacity':1});    		    	}    		    	else{    		    		slides_rotator.css('overflow','hidden');        		        slides.css('left',options.width).eq(0).css({'z-index': 2,'left':0});                     }    		        for (i=0; i < count; i++) {    		           pic[i] = new Image();    	               pic[i].onload = function() {    		                loaded++;    		                if(loaded == count){    		                	main_rotator.show();                                $('.rotator-nav').show();    		                	preloader.hide();    		                	if(options.autorun){    		                		rotator.start();    		                	}    		                }    		            };    	                pic[i].src = images[i].src;    		        }    			},    			render: function(){    				$this.append(main_rotator);                    if(options.nav){                        $this.append(nav_left,nav_right);                        $('.rotator-nav').hide();                    }                    if(options.random){                        options.slides.sort(function() {return 0.5 - Math.random()});                    }    		    	var render = [];    		    	$.each(options.slides,function(i,slide){    		    		render.push('<li><div class="img_rotator">'+    		    		'<table cellspacing=5 cellpadding=0 width="'+options.width+'" border=0><tr>'+    		    		'<td width="150" align="center"><a rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[0]+'" target="_blank"><img src="/banners/adv/ali/img/'+slide.s+'/'+slide.p[0]+'.jpg" width="140" height="140" alt="'+slide.t[0]+'" /></a></td>'+    		    		'<td width="150" align="center"><a rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[1]+'" target="_blank"><img src="/banners/adv/ali/img/'+slide.s+'/'+slide.p[1]+'.jpg" width="140" height="140" alt="'+slide.t[1]+'" /></a></td>'+    		    		'<td width="150" align="center"><a rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[2]+'" target="_blank"><img src="/banners/adv/ali/img/'+slide.s+'/'+slide.p[2]+'.jpg" width="140" height="140" alt="'+slide.t[2]+'" /></a></td>'+    		    		'<td width="150" align="center"><a rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[3]+'" target="_blank"><img src="/banners/adv/ali/img/'+slide.s+'/'+slide.p[3]+'.jpg" width="140" height="140" alt="'+slide.t[3]+'" /></a></td>'+    		    		'<td width="150" align="center"><a rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[4]+'" target="_blank"><img src="/banners/adv/ali/img/'+slide.s+'/'+slide.p[4]+'.jpg" width="140" height="140" alt="'+slide.t[4]+'" /></a></td>'+					    '</tr><tr>'+					    '<td height="40" align="center"><a style="color: #085CA8; text-decoration: none; font: 11px Verdana,Tahoma,Arial;" rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[0]+'" target="_blank">'+slide.t[0]+'</a></td>'+					    '<td height="40" align="center"><a style="color: #085CA8; text-decoration: none; font: 11px Verdana,Tahoma,Arial;" rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[1]+'" target="_blank">'+slide.t[1]+'</a></td>'+					    '<td height="40" align="center"><a style="color: #085CA8; text-decoration: none; font: 11px Verdana,Tahoma,Arial;" rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[2]+'" target="_blank">'+slide.t[2]+'</a></td>'+                        '<td height="40" align="center"><a style="color: #085CA8; text-decoration: none; font: 11px Verdana,Tahoma,Arial;" rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[3]+'" target="_blank">'+slide.t[3]+'</a></td>'+                        '<td height="40" align="center"><a style="color: #085CA8; text-decoration: none; font: 11px Verdana,Tahoma,Arial;" rel="nofollow" href="http://li.ru/go?ali.pub/'+slide.p[4]+'" target="_blank">'+slide.t[4]+'</a></td>'+    		    		'</tr></table>'+    		    		'</div></li>');    		    	});    		    	return slides_rotator.html(render.join('')).appendTo(main_rotator);    		    },    		    start: function(){                    step = -1;    		    	intervalID = setInterval(function(){rotator.next();},options.timeout);    		    },    	        stop: function(){    	            clearInterval(intervalID);    	        },    	        next: function(){                    step = -1;    		    	if(current >= count) current = -1;    		    	prev = current;    		    	current++;    		    	if(current == 0) prev = count;    		    	rotator.run();    		    },    	        prev: function(){                    step = 1;    		    	prev = current;    		    	current--;    		    	if(current < 0) current = count;    	        	rotator.run();    	        },    	        run: function(){                    run = true;                    if(options.autorun) rotator.stop();    	        	if(options.fx == 'fade'){                        slides.eq(prev).css('z-index',1).stop(true,true).animate({'opacity': 0},options.speed);    	        		slides.eq(current).css('z-index',2).stop(true,true).animate({'opacity': 1},options.speed,function(){                            run = false;                        });    	        	}    	        	else{                        slides.eq(prev).css('z-index',1).stop(true,true).animate({'left': step*options.width},options.speed,function(){                            $(this).css('left',step*options.width);                        });                        var sc = slides.eq(current);                        if(sc.css('left').match(/([-\d]+)/)[1] != -step*options.width){                            sc.css('left',-step*options.width);                        }                        sc.css({'z-index':2}).stop().animate({'left': 0},options.speed,function(){                            run = false;                        });    	        	}                    if(options.autorun) rotator.start();    	        }    		};    		rotator.init();    	});    };})(jQuery);