(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=o?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}Object.defineProperty(exports,"__esModule",{value:!0}),exports._ab=exports.url_base=exports.receiveJsonFailover=exports.showRecommendations=exports.visitId=exports.extra=exports._initialized=void 0;var util=_interopRequireWildcard(require("./util")),recommendations=_interopRequireWildcard(require("./recommendations")),_initialized=!0;exports._initialized=_initialized;var extra={};exports.extra=extra;try{var vid=top._ntvk1&&top._ntvk1.visitId?top._ntvk1.visitId:util.guid()}catch(e){var vid=util.guid()}var visitId=vid;exports.visitId=visitId;var showRecommendations=recommendations.showRecommendations;exports.showRecommendations=showRecommendations;var receiveJsonFailover=util.receiveJsonFailover;exports.receiveJsonFailover=receiveJsonFailover;var url_base="https://ps.ntvk1.ru/";exports.url_base=url_base;var _ab=null;exports._ab=_ab;
},{"./recommendations":6,"./util":7}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debug=exports.log=void 0;var log;exports.log=log;var debug=!1;exports.debug=debug,debug?(exports.log=log=function(){for(var o,e=arguments.length,g=new Array(e),l=0;l<e;l++)g[l]=arguments[l];(o=window.console).log.apply(o,["ntvk1"].concat(g))},log("debug enabled")):exports.log=log=function(){};
},{}],3:[function(require,module,exports){
"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function makeEvent(e,t){var n=null;if("impression"!==e||void 0!==t.actual_xpath&&-1!==t.actual_xpath.indexOf("ntvk"))try{n=util.ntvkElements().map(function(e){return e.id})}catch(e){n={error:""+e}}try{var i=top.location.href}catch(e){var i=self.location.href}return{type:e,data:t,timestamp:(new Date).getTime()/1e3,top_href:i,event_id:util.guid(),visit_id:api.visitId,extra:api.extra,widget_ids:n,js_version:2}}function addEvent(e,t){var n=makeEvent(e,t);debug.log(n),events.push(n)}function initCustomDomain(e){if(!customDomainInitInProgress){customDomainInitInProgress=!0;try{var t="cb"+parseInt(1e3*Math.random());api[t]=function(n){customDomainInitInProgress&&(customDomainInitInProgress=!1,delete api[t],n&&n.custom_domain==api.url_base||e("some problem"),api.user_id=n.user_id,e())},setTimeout(function(){customDomainInitInProgress&&(customDomainInitInProgress=!1,delete api[t],e("timeout"))},3e3);var n=document.createElement("script");n.type="text/javascript",n.src="https://ps.ntvk1.ru/dmn/?dmn=".concat(api.url_base,"&callback=").concat(t),document.head.appendChild(n)}catch(t){customDomainInitInProgress=!1,e(t)}}}function sendData(e,t){var n=e?function(t){var n=function(t){n=null,e(t)};n&&n(t)}:null;if(api.url_base&&!api.url_base.match(/(https?:)\/\/p(s|1)\.ntvk1\.ru\//)&&!api.url_base.match(/(https?:)\/\/p1\.dircont3\.com\//)&&!customDomainInitialized)return util.detectAdblock(function(e){if(e)return customDomainInitialized=!0,addEvent("technical_detail",{message:"adblock"}),sendData(n,t);initCustomDomain(function(e){customDomainInitialized=!0,e&&addEvent("technical_detail",{message:"ntvk fail:"+e}),sendData(n,t)})});if(events.length>0){try{(n?util.receiveJson:util.sendBeacon)("".concat(api.url_base,"nv/"),{events:events,want_settings:!!n},n)}catch(e){debug.log(e),t||(events=[],addEvent("error",{message:""+e,function:"sendData"}),sendData(null,!0))}events=[]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeEvent=makeEvent,exports.addEvent=addEvent,exports.sendData=sendData;var util=_interopRequireWildcard(require("./util")),debug=_interopRequireWildcard(require("./debug")),api=_interopRequireWildcard(require("./api")),events=[],customDomainInitialized=!1,customDomainInitInProgress=!1;
},{"./api":1,"./debug":2,"./util":7}],4:[function(require,module,exports){
"use strict";function _typeof(r){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return _getRequireWildcardCache=function(){return r},r}function _interopRequireWildcard(r){if(r&&r.__esModule)return r;if(null===r||"object"!==_typeof(r)&&"function"!=typeof r)return{default:r};var t=_getRequireWildcardCache();if(t&&t.has(r))return t.get(r);var o={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=e?Object.getOwnPropertyDescriptor(r,n):null;i&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=r[n]}return o.default=r,t&&t.set(r,o),o}function isFunction(r){var t={};return r&&"[object Function]"===t.toString.call(r)}function collectImpressions(){var r=[function(){return Array.prototype.slice.call(document.querySelectorAll(".ntvk1-recommendations:not([ntvk1-impressed])")).filter(function(r){return r.offsetParent})[0]},".ntvk1-exchange","div.taboola-like-block","div.relap-svpressa_ru__plates-wrapper",".mywidget",".relap-default-wrapper",".block-main-news",function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-57-o)}).join("")}(17,196,194,174,192,190,109)+28..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-39)}).join("")+532..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-53-o)}).join("")}(23,167,192,193,195,150,180,181,174,191)+21439361..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-12-o)}).join("")}(34,100,99,96,99)+7..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-48-o)}).join("")}(8,177,178,171,173,155,156,91)+525..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-4-o)}).join("")}(53,174,169,169)+1..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-39-o)}).join("")}(4,91),17..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+453..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-56-o)}).join("")}(27,148,180,200,199,180)+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-40-o)}).join("")}(20,182,176,176,174,160,182,172,158)+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join(""),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-39-o)}).join("")}(19,158,93)+387..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-11-o)}).join("")}(58,169,181,173,186,187,180)+1553276779..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-51-o)}).join("")}(61,211,212,147)+1674334029..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-38-o)}).join("")}(4,159,154,154)+6..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-58-o)}).join("")}(18,175,176,111)+1674334029..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-18-o)}).join("")}(29,159)+41618741..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-39-o)}).join("")}(63,224,217,219,201,202,137)+36813..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+25..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-0-o)}).join("")}(19,130)+28..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-36-o)}).join("")}(6,100,92)+7..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-53-o)}).join("")}(14,189,182,184,166,167,102)+36813..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-15-o)}).join("")}(9,83,81,141,136,136),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-29-o)}).join("")}(13,156,148,161,162,155,157,139)+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+33292..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-38-o)}).join("")}(35,127)+8..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-42-o)}).join("")}(49,194,210,126)+36046..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-4-o)}).join("")}(54,167,138)+511155..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-57-o)}).join("")}(14,193,186,188,170,171,106)+36813..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+25..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-55-o)}).join("")}(51,217)+1014..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-16-o)}).join("")}(48,118),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+15939..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-61-o)}).join("")}(34,212,213,206)+525..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+1198514..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-27-o)}).join("")}(4,87,80),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-1-o)}).join("")}(38,141,153,145,158,159,152,154,136)+33292..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-16-o)}).join("")}(21,91,86)+5..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-6-o)}).join("")}(48,89)+963812126541..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-47-o)}).join("")}(63,165,228,223,223,205)+4..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-40-o)}).join("")}(58,151),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+26772559070..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-25-o)}).join("")}(17,161,156,156,138,150)+1..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-27-o)}).join("")}(48,128)+3..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-1-o)}).join("")}(40,141,132)+993772..toString(36).toLowerCase()+20..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-22-o)}).join("")}(38,185,182,164,161,166,178,174,171,95,121)+30820708..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-7-o)}).join("")}(44,144),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+15939..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-35-o)}).join("")}(24,177,159,171,163,176,177,170)+892..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-16-o)}).join("")}(16,89,81)+3..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-5-o)}).join("")}(57,162,97)+502446..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-49-o)}).join("")}(61,212,225)+21..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+1198516..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-42-o)}).join("")}(3,97,93),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-46-o)}).join("")}(59,204)+13956..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-1-o)}).join("")}(61,179,161,173,165,178,179)+41621185..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-36-o)}).join("")}(49,207,200,202,184,185,120)+36813..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+25..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-5-o)}).join("")}(63,179)+1312999..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+14..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-25-o)}).join("")}(28,164,158)+28..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-0-o)}).join("")}(5,127,120,122,104,105,40)+36813..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+33292..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-10-o)}).join("")}(21,81,88),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+15939..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-17-o)}).join("")}(12,146,147,140)+525..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+33292..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-55-o)}).join("")}(49,157,158,155),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+743682196..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-43-o)}).join("")}(41,193,185)+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+25..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-61-o)}).join("")}(24,196)+36403..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-37-o)}).join("")}(7,161,143,144,79)+41747277..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+25..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-48-o)}).join("")}(61,220)+36402..toString(36).toLowerCase(),function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-43-o)}).join("")}(41,192,205,206,199,201,183,184,119)+21..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+924..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-59-o)}).join("")}(60,175,174,171,234),17527..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+46210817..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+11..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-22-o)}).join("")}(57,200,190)+30..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+20331..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+1058783270..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-62-o)}).join("")}(19,203,203,219,211,213,210,209,193,140,209,194,200,190,195,205,202,184,132,203,189,183,114,143),17527..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+16437..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+772..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-35-o)}).join("")}(51,195,189,120,149,118)+31..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+23..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-43-o)}).join("")}(17,161)+1180..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+420..toString(36).toLowerCase()+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-43-o)}).join("")}(17,166,170,156,180),19..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+1321274145..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-39)}).join("")+15..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-61-o)}).join("")}(24,143,188,176,160,161,157,161,174,181,150)+1966248..toString(36).toLowerCase()];setInterval(util.catchErrors(function(){try{var t=top.innerHeight||top.document.documentElement.clientHeight,o=top.innerWidth||top.document.documentElement.clientWidth}catch(r){var t=self.innerHeight||self.document.documentElement.clientHeight,o=self.innerWidth||self.document.documentElement.clientWidth}r.forEach(function(r){if(!box_seen[r]){var e=isFunction(r)?r():document.querySelector(r);if(e&&e.offsetParent){var n=e.getBoundingClientRect();try{if(top!==self){var i=self.frameElement.getBoundingClientRect();n={top:n.top+i.top,left:n.left+i.left}}}catch(r){n={top:n.top+0,left:n.left+0}}if(!(n.height<50||n.width<50)||"ntvk .idv3-title-type2"==r||".ntvk1-exchange"==r){var a=300,c=20;if((6===document.location.host.indexOf(function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-47-o)}).join("")}(51,217,213,144),6)&&new RegExp("^[^]{5}"+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+42997..toString(36).toLowerCase()).test(document.location.host)&&2===document.location.host.indexOf(function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-25-o)}).join("")}(59,183,186,200),2)&&new RegExp("^[^]{1}"+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+43028..toString(36).toLowerCase()).test(document.location.host)&&0===document.location.host.indexOf(function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-62-o)}).join("")}(43,207),0)||10===document.location.host.indexOf(30..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+1002..toString(36).toLowerCase(),10)&&new RegExp("^[^]{6}"+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-8-o)}).join("")}(56,179,132,197,168,124,128,193,164,124,124,189,160,119,121,185,156)).test(document.location.host)&&0===document.location.host.indexOf(42656..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-71)}).join("")+573..toString(36).toLowerCase(),0))&&(a=75),(17===document.location.host.indexOf(function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-55-o)}).join("")}(40,212),17)&&new RegExp("^[^]{8}"+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+42985..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+42853..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+43020..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+43022..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+42989..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+43023..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+43023..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+42854..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(r){return String.fromCharCode(r.charCodeAt()+-13)}).join("")+43022..toString(36).toLowerCase()).test(document.location.host)&&0===document.location.host.indexOf(function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-44-o)}).join("")}(55,228,215,205,215,148,220,219,218),0)||new RegExp("^[^]{10}"+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-29-o)}).join("")}(0,97,98,162,133,90,94,158,129,137,85,154,125,83,86,150,121)).test(document.location.host)&&6===document.location.host.indexOf(1201924..toString(36).toLowerCase(),6)&&new RegExp("^[^]{3}"+function(){var r=Array.prototype.slice.call(arguments),t=r.shift();return r.reverse().map(function(r,o){return String.fromCharCode(r-t-11-o)}).join("")}(0,122,71,140,111,67,71,136,107,111,68,132,103)).test(document.location.host)&&0===document.location.host.indexOf(32927..toString(36).toLowerCase(),0))&&(a=0,c=1),box_seen[r]=n.top>=-c&&n.left>=-c&&n.top<=t-a&&n.left<=o-250,box_seen[r]){"NTVK"==e.tagName&&(e.setAttribute("ntvk1-impressed","true"),box_seen[r]=!1),events.addEvent("impression",{nominal_xpath:""+r,actual_xpath:util.getXPathTo(e),urls:function(r,t){var o;t=t.closest("ntvk")||t,o=t.querySelectorAll("a.ntvk1-rec-main[ntvk1_algo_label]");for(var e=[],n=0;n<o.length;++n){var i=o[n].getAttribute("href");-1==i.indexOf("ntvk1_source=")&&(i+="?ntvk1_source="+o[n].getAttribute("ntvk1_algo_label")),e.push(i)}return e}(0,e),items:api.get_item?[api.get_item(e)]:null,since_dom_loaded:util.getDomLoading()})}}}}})}),500)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.collectImpressions=collectImpressions,exports.box_seen=void 0;var util=_interopRequireWildcard(require("./util")),events=_interopRequireWildcard(require("./events")),api=_interopRequireWildcard(require("./api")),box_seen={};exports.box_seen=box_seen,window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(r){var t,o=(this.document||this.ownerDocument).querySelectorAll(r),e=this;do{for(t=o.length;--t>=0&&o.item(t)!==e;);}while(t<0&&(e=e.parentElement));return e});
},{"./api":1,"./events":3,"./util":7}],5:[function(require,module,exports){
"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function(){return t},t}function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=i?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}var util=_interopRequireWildcard(require("./util")),events=_interopRequireWildcard(require("./events")),impressions=_interopRequireWildcard(require("./impressions")),recommendations=_interopRequireWildcard(require("./recommendations")),api=_interopRequireWildcard(require("./api")),debug=_interopRequireWildcard(require("./debug"));!function(){function applyPageSettings(pageSettings){function maybe_on_load(){on_load&&on_load(),on_load=null}if(pageSettingsLoadingState.finishedAt)throw new Error("settings already applied");pageSettingsLoadingState.finishedAt=(new Date).getTime();var on_load=function on_load(){if(window._ntvk1._fully_initialized)throw new Error("nativka already finished initializing");window._ntvk1._fully_initialized=!0,debug.log(pageSettings),api.page_data=pageSettings.page_data,api.user_id=pageSettings.user_id,util.appendPixelToBody(pageSettings.user_id),pageSettings.js&&eval("("+pageSettings.js.replace("'use strict';","").replace('"use strict";',"")+"\n)")({util:util,events:events,api:api,debug:debug}),pageSettings.settings.impressions&&impressions.collectImpressions(pageSettings.settings.impressions),pageSettings.settings.collect&&(pageSettings.settings.collect.open&&collectOpen(),pageSettings.settings.collect.click&&collectClick()),util.detectAdblock(function(t){t&&events.addEvent("technical_detail",{message:"adblock_detected"})})};document.addEventListener("DOMContentLoaded",maybe_on_load,!1),setTimeout(maybe_on_load,500)}function collectOpen(){setInterval(util.catchErrors(function(){var t=document.body,e=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);events.addEvent("open",{time_open:(new Date).getTime()/1e3-timeStart,position:t.scrollTop,document_height:n})}),5e3)}function findParentA(t){return t&&t!==document.body?"A"==t.nodeName?t:findParentA(t.parentNode):null}function collectClick(){["click","auxclick"].forEach(function(t){navigator.userAgent.match(/firefox/i)&&"auxclick"===t||document.addEventListener(t,util.catchErrors(function(t){var e=findParentA(t.target);e&&(events.addEvent("click",{link_href:e.href,link_xpath:util.getXPathTo(t.target),algo_label:e.attributes.ntvk1_algo_label?e.attributes.ntvk1_algo_label.value:null,impression_states:impressions.box_seen,item:api.get_item?api.get_item(e):null}),events.sendData())}))})}try{if(top.location.href.match(/rutracker/))return}catch(t){}try{if(!debug.debug&&top.location.href.match(/ntvk1route=test/)&&!document.currentScript.src.match(/ntvk1route=test/)){var script_url="https://ps.ntvk1.ru/nv.js?ntvk1route=test",script=document.createElement("script");return script.src=script_url,void document.body.appendChild(script)}}catch(t){}var timeStart=(new Date).getTime()/1e3;if(window._ntvk1){if(window._ntvk1._initialized)return;window._ntvk1.extra&&(api.extra=window._ntvk1.extra)}window._ntvk1=api;try{4==document.currentScript.src.split("/").length&&"nv.js"==document.currentScript.src.split("/")[3]?api.url_base=document.currentScript.src.replace("/nv.js","/"):5==document.currentScript.src.split("/").length&&"nv.js"==document.currentScript.src.split("/")[4]&&(api.url_base=document.currentScript.src.replace("/nv.js","/"))}catch(t){}api.url_base="https://ps.ntvk1.ru/","http://staticc7.ntvk1.ru/"==api.url_base&&(api.url_base="https://ps.ntvk1.ru/"),"https://staticc7.ntvk1.ru/"==api.url_base&&(api.url_base="https://ps.ntvk1.ru/"),"http://p1.dircont3.com/"==api.url_base&&(api.url_base="https://ps.ntvk1.ru/"),"https://p1.dircont3.com/"==api.url_base&&(api.url_base="https://ps.ntvk1.ru/"),events.addEvent("load",{referer:document.referrer,since_dom_loaded:util.getDomLoading()});var pageSettingsLoadingState={startedAt:(new Date).getTime(),finishedAt:null,fallbackSettings:null,gaveUp:!1};setTimeout(util.catchErrors(function(){pageSettingsLoadingState.finishedAt||(pageSettingsLoadingState.fallbackSettings?applyPageSettings(pageSettingsLoadingState.fallbackSettings):pageSettingsLoadingState.gaveUp=!0)}),1500),events.sendData(util.catchErrors(function(t){applyPageSettings(t)})),recommendations.initRecommendations(function(t){pageSettingsLoadingState.finishedAt||(pageSettingsLoadingState.gaveUp?applyPageSettings(t):pageSettingsLoadingState.fallbackSettings=t)}),setInterval(events.sendData,200)}();
},{"./api":1,"./debug":2,"./events":3,"./impressions":4,"./recommendations":6,"./util":7}],6:[function(require,module,exports){
"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}return i.default=e,t&&t.set(e,i),i}function initRecommendations(e){function t(){util.ntvkElements().forEach(function(t,i){if(t&&!t.getAttribute("not-init-rec")&&!t.getAttribute("ntvk-state")){var n=+new Date;getRecommendations(t,util.catchErrors(function(i){i.page_settings&&e(i.page_settings),showRecommendations(t,i);var r=+new Date;events.addEvent("recs_loaded",{urls:api.get_item?api.get_item(t):null,whose:"ntvk",load_time:i._load_time,full_load_time:r-n,since_dom_loaded:util.getDomLoading()})}))}})}t(),setInterval(util.catchErrors(t),1e3)}function receiveRecommendations(e,t){var i={received:!1,cdnRecs:null,timedOut:!1};util.receiveJsonFailover("rec/",e,function(e){util.appendPixelsToBodyFromFeatured(e.results.featured),i.received||(i.received=!0,t(e))});var n=new XMLHttpRequest;e.widget_id&&(n.open("GET","//staticcf0.ntvk1.ru/defaults/".concat(e.widget_id,".json?1"),!0),n.send({mode:"cors"}),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);i.received||(i.timeOut?(i.received=!0,t(e)):i.cdnRecs=e)}}),setTimeout(function(){i.received||(i.cdnRecs?(i.received=!0,t(i.cdnRecs)):i.timedOut=!0)},3e3)}function getRecommendations(e,t){if(!e.getAttribute("ntvk-state")){e.setAttribute("ntvk-state","loading");receiveRecommendations({widget_id:e.id,visit_id:api.visitId,site_id:e.getAttribute("data-siteId")},t)}}function showRecommendations(el,rec){if(rec.exception)return void debug.log(rec.exception);try{var enabled=!top.location.href.match(/ntvk1enable/)}catch(e){var enabled=!1}if(rec.results.widget_settings&&rec.results.widget_settings.disabled&&enabled)return void debug.log("Widget is disabled");if(rec.results.ab_test_settings){var widget=document.createElement("ntvk");return widget.setAttribute("id",rec.results.ab_test_settings.chosen_widget),widget.setAttribute("ntvk-state","loaded-with-ab-test"),el.parentNode.insertBefore(widget,el.nextSibling),delete rec.results.ab_test_settings,showRecommendations(widget,rec)}rec.widget&&(eval("(".concat(rec.widget.replace("'use strict';","").replace('"use strict";',""),"\n)"))(el,rec,{util:util,events:events,api:api,debug:debug}),exports.recommendations_loaded=recommendations_loaded=!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initRecommendations=initRecommendations,exports.receiveRecommendations=receiveRecommendations,exports.getRecommendations=getRecommendations,exports.showRecommendations=showRecommendations,exports.recommendations_loaded=void 0;var util=_interopRequireWildcard(require("./util")),events=_interopRequireWildcard(require("./events")),api=_interopRequireWildcard(require("./api")),debug=_interopRequireWildcard(require("./debug")),recommendations_loaded=!1;exports.recommendations_loaded=recommendations_loaded;
},{"./api":1,"./debug":2,"./events":3,"./util":7}],7:[function(require,module,exports){
"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function appendPixelToBody(e){var t=document.createElement("img");t.src="https://redirect.frontend.weborama.fr/rd?url=https%3A%2F%2Fut.rktch.com%2Fmatchspm%3Fpi%3D1000006%26pui%3D{WEBO_CID}",t.style.display="none",t.width="1",t.height="1",t.alt="";try{document.body.appendChild(t)}catch(e){}if(Math.random(),!1)try{var r=(Math.random()+1).toString(36).substring(2),n=document.createElement("img");n.src="https://topvisit.ru/metrika/redir?campaignId=5cfefb8f-54c7-44e1-be6c-f2965bbcefb6&rnd="+r,n.style.display="none",n.width="1",n.height="1",n.alt="",document.body.appendChild(n)}catch(e){}var o=document.createElement("img");o.src="https://ut.rktch.com/matchspm?pi=2&pui="+e,o.style.display="none",o.width="1",o.height="1",o.alt="";try{document.body.appendChild(o)}catch(e){}var i=document.createElement("img");i.src="https://ut.rktch.com/matchbt?bi=29",i.style.display="none",i.width="1",i.height="1",i.alt="";try{document.body.appendChild(i)}catch(e){}var a=document.createElement("img");a.src="https://ut.rktch.com/matchbt?bi=27",a.style.display="none",a.width="1",a.height="1",a.alt="";try{document.body.appendChild(a)}catch(e){}var c=document.createElement("img");c.src="https://ut.rktch.com/matchbt?bi=50",c.style.display="none",c.width="1",c.height="1",c.alt="";try{document.body.appendChild(c)}catch(e){}var d=document.createElement("img");d.src="https://ut.rktch.com/matchbt?bi=39",d.style.display="none",d.width="1",d.height="1",d.alt="";try{document.body.appendChild(d)}catch(e){}}function appendPixelsToBodyFromFeatured(e){var t=document.createElement("div");e.forEach(function(e){if(e.ext_pixels&&e.ext_pixels.forEach(function(e){if(e[1]>-1)setTimeout(function(){var r=document.createElement("img");r.src=e[0],r.style.display="none",r.width=1,r.height=1,t.appendChild(r)},e[1]);else{var r=document.createElement("img");r.style.display="none",r.src=e[0],r.width=1,r.height=1,t.appendChild(r)}}),e.ext_pixels3){var r=document.createElement("iframe");r.referrerPolicy="no-referrer";var n=(Math.random()+1).toString(36).substring(2);r.src="https://p1.ntvk1.ru/pt.html?ut="+n,r.style="width:0; height:0; border:0; border:none",t.appendChild(r)}e.ext_pixels4&&e.ext_pixels4.forEach(function(e){if(e[1]>-1)setTimeout(function(){var r=document.createElement("iframe");r.referrerPolicy="no-referrer";var n=(Math.random()+1).toString(36).substring(2);r.src="https://p1.ntvk1.ru/pt.html?id="+e[0]+"&ut="+n,r.style="width:0; height:0; border:0; border:none",t.appendChild(r)},e[1]);else{var r=document.createElement("iframe");r.referrerPolicy="no-referrer";var n=(Math.random()+1).toString(36).substring(2);r.src="https://p1.ntvk1.ru/pt.html?id="+e[0]+"&ut="+n,r.style="width:0; height:0; border:0; border:none",t.appendChild(r)}})}),document.body.appendChild(t)}function getDomLoading(){try{return void 0===window.performance.timing.domLoading?null:+new Date-window.performance.timing.domLoading}catch(e){return debug.log(e),null}}function findParentA(e){return e&&e!==document.body?"A"==e.nodeName?e:findParentA(e.parentNode):null}function once(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}function ntvkElements(){return[].concat([].slice.call(document.getElementsByClassName("ntvk-widget")),[].slice.call(document.getElementsByTagName("ntvk")),[].slice.call(document.getElementsByTagName("rdrk1")),[].slice.call(document.getElementsByTagName("dircont")),[].slice.call(document.querySelectorAll("#I7zKfL3kGy")))}function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function fixNtvkApiUrl(e){var t=[];try{var r=top.location.href}catch(e){var r=self.location.href}t.push("top_href="+encodeURIComponent(r));var n=r.match(/ntvk1route=[a-z0-9]+/);return n&&t.push(n[0]),e+"?"+t.join("&")}function receiveJson(e,t,r){var n=+new Date,o="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){if(4==o.readyState)try{var e=JSON.parse(o.responseText),t=+new Date;e._load_time=t-n,r(e)}catch(e){debug.log(null,e)}};try{o.withCredentials=!0,o.responseType="text"}catch(e){}o.open(t?"POST":"GET",fixNtvkApiUrl(e),!0),api.user_id&&(t.user_id=api.user_id),o.send(JSON.stringify(t))}function _receiveJsonFailover(e,t,r,n){function o(o){prodServers=prodServers.filter(function(e){return e!=c}),i||_receiveJsonFailover(e,t,r,n+1)}if("https://ps.ntvk1.ru/"!=api.url_base&&"http://ps.ntvk1.ru/"!=api.url_base&&"http://p1.ntvk1.ru/"!=api.url_base&&"https://p1.ntvk1.ru/"!=api.url_base||0==prodServers.length)return void receiveJson(api.url_base+e,t,r.cb);var i=!1,a=navigator.userAgent;if((a.indexOf("MSIE ")>-1||a.indexOf("Trident/")>-1)&&(console.log("IE detected"),i=!0),!r.done){var c=prodServers[Math.floor(Math.random()*prodServers.length)],d=setTimeout(function(){return o("timeout")},i?4e4:8e3);t.attempt=n,receiveJson(c+e,t,function(e,t){if(t)return void o(t);window.ntvkServer=c,r.done=!0,-1==prodServers.indexOf(c)&&prodServers.push(c),clearTimeout(d),r.cb(e)})}}function receiveJsonFailover(e,t,r){_receiveJsonFailover(e,t,{cb:once(r),done:!1},0)}function isWholeElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function isSomeElementInViewport(e,t){var r=e.getBoundingClientRect();return r.top<=(window.innerHeight||document.documentElement.clientHeight)-t&&r.left<=(window.innerWidth||document.documentElement.clientWidth)-t&&r.bottom>=t&&r.right>=t}function utf8_to_b64(e){return btoa(encodeURIComponent(e))}function catchErrors(e){return function(){try{e.apply(null,arguments)}catch(t){debug.log(t,e&&e.name,t.stack||(new Error).stack),events.addEvent("error",{message:""+t,function:e&&e.name,stack:t.stack||(new Error).stack}),events.sendData()}}}function getXPathTo(e){if(!e)return"";if(e===document.body)return"//"+e.tagName;var t=e.id?"#"+e.id:"",r=e.className&&e.className.replace?"."+e.className.replace(" ","."):"",n=[].slice.call(e.parentNode?e.parentNode.children:[]).filter(function(t){return t.tagName===e.tagName}),o=1===n.length?"":"["+(1+n.indexOf(e))+"]";return getXPathTo(e.parentNode)+"/"+e.tagName+o+t+r}function detectAdblock(e){if(null!==api._ab)return e(api._ab);setTimeout(function(){if(!document.body)return void e(!1);var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",document.body.appendChild(t),setTimeout(function(){api._ab=0===t.offsetHeight,e(api._ab);try{t.remove()}catch(e){}},100)},100)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendPixelToBody=appendPixelToBody,exports.appendPixelsToBodyFromFeatured=appendPixelsToBodyFromFeatured,exports.getDomLoading=getDomLoading,exports.findParentA=findParentA,exports.once=once,exports.ntvkElements=ntvkElements,exports.guid=guid,exports.fixNtvkApiUrl=fixNtvkApiUrl,exports.receiveJson=receiveJson,exports.receiveJsonFailover=receiveJsonFailover,exports.isWholeElementInViewport=isWholeElementInViewport,exports.isSomeElementInViewport=isSomeElementInViewport,exports.utf8_to_b64=utf8_to_b64,exports.catchErrors=catchErrors,exports.getXPathTo=getXPathTo,exports.detectAdblock=detectAdblock,exports.atob=exports.btoa=exports.sendBeacon=void 0;var events=_interopRequireWildcard(require("./events")),debug=_interopRequireWildcard(require("./debug")),api=_interopRequireWildcard(require("./api")),prodServers=["https://ps1.ntvk1.ru/","https://ps2.ntvk1.ru/","https://ps3.ntvk1.ru/"],sendBeacon=function(){return"sendBeacon"in navigator?function(e,t){try{self!==top&&(e+="?top_href="+encodeURIComponent(top.location.href))}catch(e){}api.user_id&&(t.user_id=api.user_id),navigator.sendBeacon(fixNtvkApiUrl(e),JSON.stringify(t))}:function(e,t){return receiveJson(e,t,function(){}),!0}}();exports.sendBeacon=sendBeacon;var _ref=function(){function e(e){var r,n,o,i,a,c;for(o=e.length,n=0,r="";n<o;){if(i=255&e.charCodeAt(n++),n==o){r+=t.charAt(i>>2),r+=t.charAt((3&i)<<4),r+="==";break}if(a=e.charCodeAt(n++),n==o){r+=t.charAt(i>>2),r+=t.charAt((3&i)<<4|(240&a)>>4),r+=t.charAt((15&a)<<2),r+="=";break}c=e.charCodeAt(n++),r+=t.charAt(i>>2),r+=t.charAt((3&i)<<4|(240&a)>>4),r+=t.charAt((15&a)<<2|(192&c)>>6),r+=t.charAt(63&c)}return r}if(window.btoa&&window.atob)return{btoa:window.btoa.bind(window),atob:window.atob.bind(window)};var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{btoa:e}}(),btoa=_ref.btoa,atob=_ref.atob;exports.atob=atob,exports.btoa=btoa;
},{"./api":1,"./debug":2,"./events":3}]},{},[5]);
